---

  - hosts: all 
    become: true
    tasks:

    - name: this task targets apt package index update (Bu görev , Ubuntu Apache & Php Kütüphane Yüklemesini yapar.ve Paket indexini günceller.)
      apt :
        name:
          - apache2
          - libapache2-mod-php
        state: latest
        update_cache: yes
      when: ansible_distribution == "Ubuntu"

    - name: Bu görev, Rocky Linux Update ve index günceller.
      dnf:
        name:
          - httpd
          - php
        update_cache: yes
      when: ansible_distribution =="Rocky"


# bu versiyonda birden farklı bir kaç sunucuya apache2 php kütüphanesini kurduk. bu versiyonda iki sunuucnunda paketleri farklı oluşturduk örneğin rockyde "DNF" kullandık
# kuracağı paketleri bir değişken kullanmadan doğrudan belirttik ve sunucu usernameleri inventoryde ayrıca belirttik. şimdi değişken kullanarak v2 ye geçeceğiz.

# ansible-playbook --ask-become-pass apache_installV1.yml  "Kullanmadan önce inventory dosyasını revize et. Sadece ansible_user kısmını düzenlemen yeterli.
